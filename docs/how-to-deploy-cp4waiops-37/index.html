
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://ibm.github.io/cp4waiops-gitops/docs/how-to-deploy-cp4waiops-37/">
      
      
        <link rel="prev" href="../how-to-deploy-cp4waiops-36/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.5">
    
    
      
        <title>Online Install - IBM Cloud Pak for Watson AIOps</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7a7fce14.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:300,300i,400,400i,700,700i%7CIBM+Plex+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"IBM Plex Sans";--md-code-font:"IBM Plex Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#deploy-ibm-cloud-pak-for-watson-aiops-37-using-gitops" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="IBM Cloud Pak for Watson AIOps" class="md-header__button md-logo" aria-label="IBM Cloud Pak for Watson AIOps" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            IBM Cloud Pak for Watson AIOps
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Online Install
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/IBM/cp4waiops-gitops" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link md-tabs__link--active">
        GitOps Install
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="IBM Cloud Pak for Watson AIOps" class="md-nav__button md-logo" aria-label="IBM Cloud Pak for Watson AIOps" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    IBM Cloud Pak for Watson AIOps
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/IBM/cp4waiops-gitops" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
      
      
      
        <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
          GitOps Install
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          GitOps Install
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_2" >
      
      
      
        <label class="md-nav__link" for="__nav_1_2" id="__nav_1_2_label" tabindex="0">
          v3.6 Official Support
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_1_2">
          <span class="md-nav__icon md-icon"></span>
          v3.6 Official Support
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../how-to-deploy-cp4waiops-36/" class="md-nav__link">
        Online Install
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_1_3" id="__nav_1_3_label" tabindex="0">
          v3.7 Official Support
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_3_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_1_3">
          <span class="md-nav__icon md-icon"></span>
          v3.7 Official Support
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Online Install
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Online Install
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-cloud-pak-for-watson-aiops-with-the-argo-cd-ui" class="md-nav__link">
    Installing Cloud Pak for Watson AIOps with the Argo CD UI
  </a>
  
    <nav class="md-nav" aria-label="Installing Cloud Pak for Watson AIOps with the Argo CD UI">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#log-in-to-argo-cd" class="md-nav__link">
    Log in to Argo CD
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#grant-argo-cd-cluster-admin-permission" class="md-nav__link">
    Grant Argo CD cluster admin permission
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-argo-cd" class="md-nav__link">
    Configure Argo CD
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storage-considerations" class="md-nav__link">
    Storage considerations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#obtain-an-entitlement-key" class="md-nav__link">
    Obtain an entitlement key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update-the-openshift-container-platform-global-pull-secret" class="md-nav__link">
    Update the OpenShift Container Platform global pull secret
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-ai-manager-and-event-manager-separately" class="md-nav__link">
    Installing AI Manager and Event Manager separately
  </a>
  
    <nav class="md-nav" aria-label="Installing AI Manager and Event Manager separately">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-shared-components" class="md-nav__link">
    Install shared components
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-ai-manager" class="md-nav__link">
    Install AI Manager
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-event-manager" class="md-nav__link">
    Install Event Manager
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify-the-cloud-pak-for-watson-aiops-installation" class="md-nav__link">
    Verify the Cloud Pak for Watson AIOps installation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#access-cloud-pak-for-watson-aiops" class="md-nav__link">
    Access Cloud Pak for Watson AIOps
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-cloud-pak-for-watson-aiops-from-the-command-line" class="md-nav__link">
    Installing Cloud Pak for Watson AIOps from the command line
  </a>
  
    <nav class="md-nav" aria-label="Installing Cloud Pak for Watson AIOps from the command line">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#log-in-to-argo-cd-cli" class="md-nav__link">
    Log in to Argo CD (CLI)
  </a>
  
    <nav class="md-nav" aria-label="Log in to Argo CD (CLI)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#grant-argo-cd-cluster-admin-permission-cli" class="md-nav__link">
    Grant Argo CD cluster admin permission (CLI)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storage-considerations-cli" class="md-nav__link">
    Storage considerations (CLI)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#obtain-an-entitlement-key-cli" class="md-nav__link">
    Obtain an entitlement key (CLI)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update-the-openshift-container-platform-global-pull-secret-cli" class="md-nav__link">
    Update the OpenShift Container Platform global pull secret (CLI)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-ai-manager-and-event-manager-separately-cli" class="md-nav__link">
    Installing AI Manager and Event Manager separately (CLI)
  </a>
  
    <nav class="md-nav" aria-label="Installing AI Manager and Event Manager separately (CLI)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-shared-components-cli" class="md-nav__link">
    Install shared components (CLI)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-ai-manager-cli" class="md-nav__link">
    Install AI Manager (CLI)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-event-manager-cli" class="md-nav__link">
    Install Event Manager (CLI)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify-the-cloud-pak-for-watson-aiops-installation-cli" class="md-nav__link">
    Verify the Cloud Pak for Watson AIOps installation (CLI)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#access-cloud-pak-for-watson-aiops-cli" class="md-nav__link">
    Access Cloud Pak for Watson AIOps (CLI)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    Troubleshooting
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#storage" class="md-nav__link">
    Storage
  </a>
  
    <nav class="md-nav" aria-label="Storage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#problem" class="md-nav__link">
    Problem
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cause" class="md-nav__link">
    Cause
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solution" class="md-nav__link">
    Solution
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-cloud-pak-for-watson-aiops-with-the-argo-cd-ui" class="md-nav__link">
    Installing Cloud Pak for Watson AIOps with the Argo CD UI
  </a>
  
    <nav class="md-nav" aria-label="Installing Cloud Pak for Watson AIOps with the Argo CD UI">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#log-in-to-argo-cd" class="md-nav__link">
    Log in to Argo CD
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#grant-argo-cd-cluster-admin-permission" class="md-nav__link">
    Grant Argo CD cluster admin permission
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-argo-cd" class="md-nav__link">
    Configure Argo CD
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storage-considerations" class="md-nav__link">
    Storage considerations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#obtain-an-entitlement-key" class="md-nav__link">
    Obtain an entitlement key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update-the-openshift-container-platform-global-pull-secret" class="md-nav__link">
    Update the OpenShift Container Platform global pull secret
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-ai-manager-and-event-manager-separately" class="md-nav__link">
    Installing AI Manager and Event Manager separately
  </a>
  
    <nav class="md-nav" aria-label="Installing AI Manager and Event Manager separately">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-shared-components" class="md-nav__link">
    Install shared components
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-ai-manager" class="md-nav__link">
    Install AI Manager
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-event-manager" class="md-nav__link">
    Install Event Manager
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify-the-cloud-pak-for-watson-aiops-installation" class="md-nav__link">
    Verify the Cloud Pak for Watson AIOps installation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#access-cloud-pak-for-watson-aiops" class="md-nav__link">
    Access Cloud Pak for Watson AIOps
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-cloud-pak-for-watson-aiops-from-the-command-line" class="md-nav__link">
    Installing Cloud Pak for Watson AIOps from the command line
  </a>
  
    <nav class="md-nav" aria-label="Installing Cloud Pak for Watson AIOps from the command line">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#log-in-to-argo-cd-cli" class="md-nav__link">
    Log in to Argo CD (CLI)
  </a>
  
    <nav class="md-nav" aria-label="Log in to Argo CD (CLI)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#grant-argo-cd-cluster-admin-permission-cli" class="md-nav__link">
    Grant Argo CD cluster admin permission (CLI)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storage-considerations-cli" class="md-nav__link">
    Storage considerations (CLI)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#obtain-an-entitlement-key-cli" class="md-nav__link">
    Obtain an entitlement key (CLI)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update-the-openshift-container-platform-global-pull-secret-cli" class="md-nav__link">
    Update the OpenShift Container Platform global pull secret (CLI)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-ai-manager-and-event-manager-separately-cli" class="md-nav__link">
    Installing AI Manager and Event Manager separately (CLI)
  </a>
  
    <nav class="md-nav" aria-label="Installing AI Manager and Event Manager separately (CLI)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-shared-components-cli" class="md-nav__link">
    Install shared components (CLI)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-ai-manager-cli" class="md-nav__link">
    Install AI Manager (CLI)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-event-manager-cli" class="md-nav__link">
    Install Event Manager (CLI)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify-the-cloud-pak-for-watson-aiops-installation-cli" class="md-nav__link">
    Verify the Cloud Pak for Watson AIOps installation (CLI)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#access-cloud-pak-for-watson-aiops-cli" class="md-nav__link">
    Access Cloud Pak for Watson AIOps (CLI)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    Troubleshooting
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#storage" class="md-nav__link">
    Storage
  </a>
  
    <nav class="md-nav" aria-label="Storage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#problem" class="md-nav__link">
    Problem
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cause" class="md-nav__link">
    Cause
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solution" class="md-nav__link">
    Solution
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->
<p><strong>Table of Contents</strong> <em>generated with <a href="https://github.com/thlorenz/doctoc">DocToc</a></em></p>
<ul>
<li><a href="#deploy-cloud-pak-for-watson-aiops-36-using-gitops">Deploy IBM Cloud Pak for Watson AIOps 3.7 using GitOps</a><ul>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#installing-cloud-pak-for-watson-aiops-with-the-argo-cd-ui">Installing Cloud Pak for Watson AIOps with the Argo CD UI</a><ul>
<li><a href="#log-in-to-argo-cd">Log in to Argo CD</a></li>
<li><a href="#grant-argo-cd-cluster-admin-permission">Grant Argo CD cluster admin permission</a></li>
<li><a href="#configure-argo-cd">Configure Argo CD</a></li>
<li><a href="#storage-considerations">Storage considerations</a></li>
<li><a href="#obtain-an-entitlement-key">Obtain an entitlement key</a></li>
<li><a href="#update-the-openshift-container-platform-global-pull-secret">Update the OpenShift Container Platform global pull secret</a></li>
<li><a href="#installing-ai-manager-and-event-manager-separately">Installing AI Manager and Event Manager separately</a><ul>
<li><a href="#install-shared-components">Install shared components</a></li>
<li><a href="#install-ai-manager">Install AI Manager</a></li>
<li><a href="#install-event-manager">Install Event Manager</a></li>
</ul>
</li>
<li><a href="#verify-the-cloud-pak-for-watson-aiops-installation">Verify the Cloud Pak for Watson AIOps installation</a></li>
<li><a href="#access-cloud-pak-for-watson-aiops">Access Cloud Pak for Watson AIOps</a></li>
</ul>
</li>
<li><a href="#installing-cloud-pak-for-watson-aiops-from-the-command-line">Installing Cloud Pak for Watson AIOps from the command line</a><ul>
<li><a href="#log-in-to-argo-cd-cli">Log in to Argo CD (CLI)</a></li>
<li><a href="#grant-argo-cd-cluster-admin-permission-cli">Grant Argo CD cluster admin permission (CLI)</a></li>
<li><a href="#storage-considerations-cli">Storage considerations (CLI)</a></li>
<li><a href="#obtain-an-entitlement-key-cli">Obtain an entitlement key (CLI)</a></li>
<li><a href="#update-the-openshift-container-platform-global-pull-secret-cli">Update the OpenShift Container Platform global pull secret (CLI)</a></li>
<li><a href="#installing-ai-manager-and-event-manager-separately-cli">Installing AI Manager and Event Manager separately (CLI)</a><ul>
<li><a href="#install-shared-components-cli">Install shared components (CLI)</a></li>
<li><a href="#install-ai-manager-cli">Install AI Manager (CLI)</a></li>
<li><a href="#install-event-manager-cli">Install Event Manager (CLI)</a></li>
</ul>
</li>
<li><a href="#verify-the-cloud-pak-for-watson-aiops-installation-cli">Verify the Cloud Pak for Watson AIOps installation (CLI)</a></li>
<li><a href="#access-cloud-pak-for-watson-aiops-cli">Access Cloud Pak for Watson AIOps (CLI)</a></li>
</ul>
</li>
<li><a href="#troubleshooting">Troubleshooting</a><ul>
<li><a href="#storage">Storage</a><ul>
<li><a href="#problem">Problem</a></li>
<li><a href="#cause">Cause</a></li>
<li><a href="#solution">Solution</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<!-- END doctoc generated TOC please keep comment here to allow auto update -->

<h1 id="deploy-ibm-cloud-pak-for-watson-aiops-37-using-gitops">Deploy IBM Cloud Pak for Watson AIOps 3.7 using GitOps<a class="headerlink" href="#deploy-ibm-cloud-pak-for-watson-aiops-37-using-gitops" title="Permanent link">&para;</a></h1>
<p><strong>Using GitOps to install Cloud Pak for Watson AIOps 3.7 is a GA feature!</strong></p>
<p>The use of GitOps enables IBM Cloud Pak for Watson AIOps to be deployed on a Red Hat OpenShift Container Platform cluster from a Git repository, with the ArgoCD tool. Cloud Pak for Watson AIOps can be installed with the Argo CD user interface (UI), or with the Argo CD command line (CLI).</p>
<p>For more information about GitOps, see <a href="https://docs.openshift.com/container-platform/4.10/cicd/gitops/understanding-openshift-gitops.html#understanding-openshift-gitops">Understanding OpenShift GitOps</a> in the Red Hat OpenShift documentation.</p>
<p>For more information about Argo, see the <a href="https://argo-cd.readthedocs.io/en/stable/">Argo documentation</a>.</p>
<!--You can choose from two deployment options:

Option 1: Install AI Manager and Event Manager separately

Option 2: Install AI Manager and Event Manager with an all-in-one configuration (**Technology preview**) -->

<h2 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">&para;</a></h2>
<ul>
<li>Ensure that you meet the supported platform, hardware, and storage requirements. For more information, see <a href="https://www.ibm.com/docs/en/cloud-paks/cloud-pak-watson-aiops/3.7.0?topic=planning-system-requirements">System requirements</a>.</li>
<li>You must have Red Hat OpenShift GitOps (Argo CD) installed on your Red Hat OpenShift cluster. For more information, see <a href="https://docs.openshift.com/container-platform/4.10/cicd/gitops/installing-openshift-gitops.html">Installing OpenShift GitOps</a> in the Red Hat OpenShift documentation.</li>
</ul>
<h2 id="installing-cloud-pak-for-watson-aiops-with-the-argo-cd-ui">Installing Cloud Pak for Watson AIOps with the Argo CD UI<a class="headerlink" href="#installing-cloud-pak-for-watson-aiops-with-the-argo-cd-ui" title="Permanent link">&para;</a></h2>
<h3 id="log-in-to-argo-cd">Log in to Argo CD<a class="headerlink" href="#log-in-to-argo-cd" title="Permanent link">&para;</a></h3>
<p>From your Red Hat OpenShift console, click the menu on the upper right, and select <code>Cluster Argo CD</code>.</p>
<p><img alt="w" src="../images/gitops-menu.png" /></p>
<p>The Argo CD UI is displayed. Click <code>LOG IN VIA OPENSHIFT</code>.</p>
<p><img alt="w" src="../images/gitops-login.png" /></p>
<h3 id="grant-argo-cd-cluster-admin-permission">Grant Argo CD cluster admin permission<a class="headerlink" href="#grant-argo-cd-cluster-admin-permission" title="Permanent link">&para;</a></h3>
<p>From the Red Hat OpenShift console, go to <code>User Management</code> &gt; <code>RoleBindings</code> &gt; <code>Create binding</code>. Use the form view to configure the properties for the <code>ClusterRoleBinding</code> with the following values and then click <code>Create</code>.</p>
<ul>
<li>Binding type  <ul>
<li>Cluster-wide role binding (ClusterRoleBinding)  </li>
</ul>
</li>
<li>RoleBinding  <ul>
<li>Name: argocd-admin  </li>
</ul>
</li>
<li>Role  <ul>
<li>Role Name: cluster-admin  </li>
</ul>
</li>
<li>Subject &gt; ServiceAccount<ul>
<li>Subject namespace: openshift-gitops  </li>
<li>Subject name: openshift-gitops-argocd-application-controller  </li>
</ul>
</li>
</ul>
<h3 id="configure-argo-cd">Configure Argo CD<a class="headerlink" href="#configure-argo-cd" title="Permanent link">&para;</a></h3>
<p>From the Argo CD UI, click <code>NEW APP</code>, input the following parameters, and then click <code>CREATE</code>.</p>
<ul>
<li>GENERAL  <ul>
<li>Application Name: argocd  </li>
<li>Project: default  </li>
<li>SYNC POLICY: Automatic  </li>
</ul>
</li>
<li>SOURCE  <ul>
<li>Repository URL : https://github.com/IBM/cp4waiops-gitops  </li>
<li>Revision: release-3.7  </li>
<li>path: config/argocd/openshift  </li>
</ul>
</li>
<li>DESTINATION   <ul>
<li>Cluster URL: https://kubernetes.default.svc  </li>
<li>Namespace: openshift-gitops  </li>
</ul>
</li>
</ul>
<p>After the Argo CD App <code>argocd</code> is created, select the App from the Argo CD UI to view the topology of all of the resources.</p>
<h3 id="storage-considerations">Storage considerations<a class="headerlink" href="#storage-considerations" title="Permanent link">&para;</a></h3>
<p>You must use a supported storage provider. For more information about supported storage, see <a href="https://www.ibm.com/docs/en/cloud-paks/cloud-pak-watson-aiops/3.7.0?topic=requirements-storage">Storage Considerations</a>. If your Red Hat OpenShift cluster already has a single default supported storage class, then skip this step.</p>
<!--If you are deploying on AWS, then EFS (Amazon Elastic File System) can be used for persistent storage. For more information, see [Getting started with Amazon Elastic File System](https://docs.aws.amazon.com/efs/latest/ug/getting-started.html) in the AWS documentation. You can also refer to the [AWS EFS storage configuration example](aws-efs-config-example.md)-->

<p><strong>Note</strong>: Multiple default storage classes cause deployment problems. Run the following command to check your cluster's storage class.</p>
<div class="highlight"><pre><span></span><code>oc<span class="w"> </span>get<span class="w"> </span>sc
</code></pre></div>
<p>If your cluster has multiple default storage classes, then you must edit your storage classes to leave only one storage class as the default. To remove the default setting from a storage class, run the following command to edit the storage class, and then delete the <code>storageclass.kubernetes.io/is-default-class: "true"</code> line under <code>annotations</code>.</p>
<div class="highlight"><pre><span></span><code>oc edit sc [STORAGE-CLASS-NAME]
</code></pre></div>
<p>This tutorial sets up and uses Ceph storage for demonstration purpose. </p>
<p>From the Argo CD UI, click <code>NEW APP</code>, input the following parameters for Ceph, and then click <code>CREATE</code>.</p>
<ul>
<li>GENERAL<ul>
<li>Application Name: ceph</li>
<li>Project: default</li>
<li>SYNC POLICY: Automatic</li>
</ul>
</li>
<li>SOURCE<ul>
<li>Repository URL : https://github.com/IBM/cp4waiops-gitops</li>
<li>Revision: release-3.7</li>
<li>path: config/ceph</li>
</ul>
</li>
<li>DESTINATION<ul>
<li>Cluster URL: https://kubernetes.default.svc</li>
<li>Namespace: rook-ceph</li>
</ul>
</li>
</ul>
<p><img alt="w" src="../images/app-ceph.png" /></p>
<p>After the Argo CD App <code>ceph</code> is created, you can click the App from the Argo CD UI to view the topology of the Ceph resources as follows:</p>
<p><img alt="w" src="../images/app-ceph2.png" /></p>
<p>The filters on the left can be used to filter out resources. Click a resource to check its logs and events.</p>
<p><img alt="w" src="../images/res-logs.png" /></p>
<p>Run the following command from the command line to check that none of the pods have an error status.</p>
<div class="highlight"><pre><span></span><code><span class="gp">[root@xyz.test.cp.fyre.ibm.com ~]# </span>oc<span class="w"> </span>get<span class="w"> </span>po<span class="w"> </span>-n<span class="w"> </span>rook-ceph
<span class="go">NAME                                                              READY   STATUS      RESTARTS   AGE</span>
<span class="go">csi-cephfsplugin-7b6jk                                            3/3     Running     0          2d</span>
<span class="go">csi-cephfsplugin-l7mvz                                            3/3     Running     0          2d</span>
<span class="go">csi-cephfsplugin-provisioner-695b574445-gfcwz                     6/6     Running     6          2d</span>
<span class="go">csi-cephfsplugin-provisioner-695b574445-lb64p                     6/6     Running     7          2d</span>
<span class="go">csi-cephfsplugin-qcsqz                                            3/3     Running     0          2d</span>
<span class="go">csi-cephfsplugin-qdrtl                                            3/3     Running     0          2d</span>
<span class="go">csi-cephfsplugin-wj7qq                                            3/3     Running     0          2d</span>
<span class="go">csi-cephfsplugin-xlsnb                                            3/3     Running     0          2d</span>
<span class="go">csi-rbdplugin-8xwdb                                               3/3     Running     0          2d</span>
<span class="go">csi-rbdplugin-b6t9l                                               3/3     Running     0          2d</span>
<span class="go">csi-rbdplugin-h965f                                               3/3     Running     0          2d</span>
<span class="go">csi-rbdplugin-lv2hp                                               3/3     Running     0          2d</span>
<span class="go">csi-rbdplugin-pqvrc                                               3/3     Running     0          2d</span>
<span class="go">csi-rbdplugin-provisioner-7f9847cd48-48gqk                        6/6     Running     0          2d</span>
<span class="go">csi-rbdplugin-provisioner-7f9847cd48-wxh2z                        6/6     Running     12         2d</span>
<span class="go">csi-rbdplugin-x8cw9                                               3/3     Running     0          2d</span>
<span class="go">rook-ceph-crashcollector-worker0.body.cp.fyre.ibm.com-88f5bnbdc   1/1     Running     0          2d</span>
<span class="go">rook-ceph-crashcollector-worker1.body.cp.fyre.ibm.com-d4c7gdcts   1/1     Running     0          2d</span>
<span class="go">rook-ceph-crashcollector-worker2.body.cp.fyre.ibm.com-7767p8fxm   1/1     Running     0          2d</span>
<span class="go">rook-ceph-crashcollector-worker3.body.cp.fyre.ibm.com-6c5cqs4lk   1/1     Running     0          2d</span>
<span class="go">rook-ceph-crashcollector-worker4.body.cp.fyre.ibm.com-787f99czf   1/1     Running     0          2d</span>
<span class="go">rook-ceph-crashcollector-worker5.body.cp.fyre.ibm.com-94d4b654q   1/1     Running     0          2d</span>
<span class="go">rook-ceph-mds-myfs-a-7d48d48497-sbhld                             1/1     Running     0          2d</span>
<span class="go">rook-ceph-mds-myfs-b-66f4b746c7-2fnl2                             1/1     Running     0          2d</span>
<span class="go">rook-ceph-mgr-a-5c84cd7b7b-574lf                                  1/1     Running     0          2d</span>
<span class="go">rook-ceph-mon-a-7b947ddf45-74p49                                  1/1     Running     0          2d</span>
<span class="go">rook-ceph-mon-b-7cf885c589-5j6r9                                  1/1     Running     0          2d</span>
<span class="go">rook-ceph-mon-c-bcb6575d8-g9l5w                                   1/1     Running     0          2d</span>
<span class="go">rook-ceph-operator-54649856c4-cdx24                               1/1     Running     0          2d</span>
<span class="go">rook-ceph-osd-0-c44985597-gwkqk                                   1/1     Running     0          2d</span>
<span class="go">rook-ceph-osd-1-6f7d5cc955-v4862                                  1/1     Running     0          2d</span>
<span class="go">rook-ceph-osd-2-58df99c46f-5kl8z                                  1/1     Running     0          2d</span>
<span class="go">rook-ceph-osd-3-5c8579456c-bpcqz                                  1/1     Running     0          2d</span>
<span class="go">rook-ceph-osd-4-5668c69fbf-kvdf6                                  1/1     Running     0          2d</span>
<span class="go">rook-ceph-osd-5-cbbdb95-cqvjd                                     1/1     Running     0          2d</span>
<span class="go">rook-ceph-osd-prepare-worker0.body.cp.fyre.ibm.com-bxr7t          0/1     Completed   0          4h16m</span>
<span class="go">rook-ceph-osd-prepare-worker1.body.cp.fyre.ibm.com-fftd8          0/1     Completed   0          4h16m</span>
<span class="go">rook-ceph-osd-prepare-worker2.body.cp.fyre.ibm.com-scg84          0/1     Completed   0          4h16m</span>
<span class="go">rook-ceph-osd-prepare-worker3.body.cp.fyre.ibm.com-m488b          0/1     Completed   0          4h16m</span>
<span class="go">rook-ceph-osd-prepare-worker4.body.cp.fyre.ibm.com-dxcm5          0/1     Completed   0          4h16m</span>
<span class="go">rook-ceph-osd-prepare-worker5.body.cp.fyre.ibm.com-jclnq          0/1     Completed   0          4h16m</span>
</code></pre></div>
<p>If any of the pods are in an error state, you can check the logs by using <code>oc logs</code>.</p>
<h3 id="obtain-an-entitlement-key">Obtain an entitlement key<a class="headerlink" href="#obtain-an-entitlement-key" title="Permanent link">&para;</a></h3>
<p>Obtain your IBM Entitled Registry key to enable your deployment to pull images from the IBM Entitled Registry.</p>
<ol>
<li>
<p>Obtain the entitlement key that is assigned to your IBMid. Log in to <a href="https://myibm.ibm.com/products-services/containerlibrary">MyIBM Container Software Library</a> with the IBMid and password details that are associated with the entitled software.</p>
</li>
<li>
<p>In the "Entitlement key" section, select "Copy key" to copy the entitlement key to the clipboard.</p>
</li>
<li>
<p>Copy the entitlement key to a safe place so that you can use it later when you update the global pull secret for the cluster.</p>
</li>
<li>
<p>(Optional) Verify the validity of the key by logging in to the IBM Entitled Registry.</p>
</li>
</ol>
<p>Depending on the container system that you are using, you might need to use <code>docker login</code> instead of <code>podman login</code> for the following command.</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">IBM_ENTITLEMENT_KEY</span><span class="o">=</span>the<span class="w"> </span>key<span class="w"> </span>from<span class="w"> </span>the<span class="w"> </span>previous<span class="w"> </span>steps
podman<span class="w"> </span>login<span class="w"> </span>cp.icr.io<span class="w"> </span>--username<span class="w"> </span>cp<span class="w"> </span>--password<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">IBM_ENTITLEMENT_KEY</span><span class="p">:?</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>
<h3 id="update-the-openshift-container-platform-global-pull-secret">Update the OpenShift Container Platform global pull secret<a class="headerlink" href="#update-the-openshift-container-platform-global-pull-secret" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>From the Red Hat OpenShift console, select the "Administrator" perspective, and then select "Workloads &gt; Secrets".</p>
</li>
<li>
<p>Select the project "openshift-config". <!--(for latest version ocp, the <code>Show default projects</code> switch under <code>Project:</code> need to be enabled before selecting project.)--></p>
</li>
<li>
<p>Select the object "pull-secret".</p>
</li>
<li>
<p>Click "Actions &gt; Edit secret".</p>
</li>
<li>
<p>Scroll to the end of the page and click "Add credentials". Use the following values:</p>
<ul>
<li>"Registry Server Address" cp.icr.io</li>
<li>"Username": cp</li>
<li>"Password": paste the entitlement key that you copied from the <a href="#obtain-an-entitlement-key">Obtain an entitlement key</a> step</li>
<li>"Email": email address. This field is mostly a hint to other people who might see the entry in the configuration.</li>
</ul>
<p><strong>Note</strong>: The registry user for this secret is "cp", not the name or email of the user who owns the entitlement key.</p>
</li>
<li>
<p>Click "Save".</p>
</li>
</ol>
<p>For more information, see <a href="https://docs.openshift.com/container-platform/4.10/openshift_images/managing_images/using-image-pull-secrets.html">Update the OpenShift Container Platform global pull secret</a> in the Red Hat OpenShift documentation.</p>
<h3 id="installing-ai-manager-and-event-manager-separately">Installing AI Manager and Event Manager separately<a class="headerlink" href="#installing-ai-manager-and-event-manager-separately" title="Permanent link">&para;</a></h3>
<h4 id="install-shared-components">Install shared components<a class="headerlink" href="#install-shared-components" title="Permanent link">&para;</a></h4>
<ul>
<li>GENERAL<ul>
<li>Application Name: anyname (for example: "cp-shared")</li>
<li>Project: default</li>
<li>SYNC POLICY: Automatic</li>
</ul>
</li>
<li>SOURCE<ul>
<li>Repository URL : https://github.com/IBM/cp4waiops-gitops</li>
<li>Revision: release-3.7</li>
<li>path: config/cp-shared/operators</li>
</ul>
</li>
<li>DESTINATION<ul>
<li>Cluster URL: https://kubernetes.default.svc</li>
<li>Namespace: openshift-marketplace</li>
</ul>
</li>
<li>PARAMETERS<ul>
<li>spec.imageCatalog: icr.io/cpopen/ibm-operator-catalog:latest</li>
<li>spec.catalogName: ibm-operator-catalog</li>
<li>spec.catalogNamespace: openshift-marketplace</li>
</ul>
</li>
</ul>
<h4 id="install-ai-manager">Install AI Manager<a class="headerlink" href="#install-ai-manager" title="Permanent link">&para;</a></h4>
<p>Install AI Manager by using GitOps to create an Argo CD App for AI Manager. The parameters for AI Manager are as follows:</p>
<ul>
<li>GENERAL<ul>
<li>Application Name: anyname (for example: "aimanager-app")</li>
<li>Project: default</li>
<li>SYNC POLICY: Automatic</li>
</ul>
</li>
<li>SOURCE<ul>
<li>Repository URL : https://github.com/IBM/cp4waiops-gitops</li>
<li>Revision: release-3.7</li>
<li>path: config/cp4waiops/install-aimgr</li>
</ul>
</li>
<li>DESTINATION<ul>
<li>Cluster URL: https://kubernetes.default.svc</li>
<li>Namespace: cp4waiops</li>
</ul>
</li>
<li>PARAMETERS<ul>
<li>spec.storageClass: rook-cephfs  <em>(you must update this value to be the RWX storage class that is being used in your environment. You can find this by running the command <code>oc get sc</code>.)</em></li>
<li>spec.storageClassLargeBlock: rook-cephfs  <em>(you must update this value to be the RWO storage that is being used in your environment. You can find this by running the command <code>oc get sc</code>.)</em></li>
<li>spec.aiManager.channel: v3.7</li>
<li>spec.aiManager.size: small</li>
<li>spec.aiManager.namespace: cp4waiops</li>
<li>spec.aiManager.pakModules.aiopsFoundation.enabled: true</li>
<li>spec.aiManager.pakModules.applicationManager.enabled: true</li>
<li>spec.aiManager.pakModules.aiManager.enabled: true</li>
<li>spec.aiManager.pakModules.connection.enabled: true</li>
</ul>
</li>
</ul>
<p>NOTE: If you use a repository that is forked from the official <a href="https://github.com/IBM/cp4waiops-gitops">Cloud Pak for Watson AIOps GitOps repository</a> or a different branch, then you must update the values of the <code>Repository URL</code> and <code>Revision</code> parameters to match your repository and branch. For example, if you use <code>https://github.com/&lt;myaccount&gt;/cp4waiops-gitops</code> and <code>dev</code> branch, then these two parameters must be changed.</p>
<h4 id="install-event-manager">Install Event Manager<a class="headerlink" href="#install-event-manager" title="Permanent link">&para;</a></h4>
<p>Install Event Manager by using GitOps to create an Argo CD App for Event Manager. The parameters for Event Manager are as follows:</p>
<ul>
<li>GENERAL<ul>
<li>Application Name: anyname (for example: "eventmanager-app")</li>
<li>Project: default</li>
<li>SYNC POLICY: Automatic</li>
</ul>
</li>
<li>SOURCE<ul>
<li>Repository URL : https://github.com/IBM/cp4waiops-gitops</li>
<li>Revision: release-3.7</li>
<li>path: config/cp4waiops/install-emgr</li>
</ul>
</li>
<li>DESTINATION<ul>
<li>Cluster URL: https://kubernetes.default.svc</li>
<li>Namespace: noi </li>
</ul>
</li>
<li>PARAMETERS<ul>
<li>spec.imageCatalog: icr.io/cpopen/ibm-operator-catalog:latest</li>
<li>spec.storageClass: rook-cephfs  <em>(you must update this value to be the RWX storage class that is being used in your environment. You can find this by running the command <code>oc get sc</code>.)</em></li>
<li>spec.storageClassLargeBlock: rook-cephfs  <em>(you must update this value to be the RWO storage class that is being used in your environment. You can find this by running the command <code>oc get sc</code>.)</em></li>
<li>spec.eventManager.version: 1.6.8</li>
<li>spec.eventManager.clusterDomain: <domain_name></li>
<li>spec.eventManager.channel: v1.12</li>
<li>spec.eventManager.deploymentType: trial</li>
<li>spec.eventManager.namespace: noi</li>
</ul>
</li>
</ul>
<p>Where <code>&lt;domain_name&gt;</code> is the domain name of the cluster where Event Manager is installed. You must use a fully qualified domain name (FQDN). For example, <code>apps.clustername.abc.xyz.com</code>. You can retrieve the FQDN by running the following command:</p>
<div class="highlight"><pre><span></span><code><span class="nv">INGRESS_OPERATOR_NAMESPACE</span><span class="o">=</span>openshift-ingress-operator
<span class="nv">appDomain</span><span class="o">=</span><span class="sb">`</span>oc<span class="w"> </span>-n<span class="w"> </span><span class="si">${</span><span class="nv">INGRESS_OPERATOR_NAMESPACE</span><span class="si">}</span><span class="w"> </span>get<span class="w"> </span>ingresscontrollers<span class="w"> </span>default<span class="w"> </span>-o<span class="w"> </span>yaml<span class="w"> </span><span class="p">|</span><span class="w"> </span>yq<span class="w"> </span>.status.domain<span class="sb">`</span>
<span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">appDomain</span><span class="si">}</span>
</code></pre></div>
<p><strong>Note</strong>:
- If you use a repository that is forked from the official <a href="https://github.com/IBM/cp4waiops-gitops">Cloud Pak for Watson AIOps GitOps repository</a> or a different branch, then you must update the values of the <code>Repository URL</code> and <code>Revision</code> parameters to match your repository and branch. For example, if you use <code>https://github.com/&lt;myaccount&gt;/cp4waiops-gitops</code> and <code>dev</code> branch, then these two parameters must be changed.</p>
<!--### Option 2: (**Technology preview**) Installing AI Manager and Event Manager with an all-in-one configuration 

**NOTE:** This option is a technology preview, and must not be used for production systems.

#### Installing AI Manager and Event Manager together

The all-in-one configuration enables the installation of the following components in one go.

- Ceph storage (optional)
- AI Manager
- Event Manager

When you create the Argo CD app, complete the form with the following values.

| Field                 | Value                                                 |
| --------------------- | ----------------------------------------------------- |
| Application Name      | anyname (for example cp4waiops-app)                          |
| Project               | default                                               |
| Sync Policy           | Automatic                                             |
| Repository URL        | https://github.com/IBM/cp4waiops-gitops               |
| Revision              | release-3.7                                                  |
| Path                  | config/all-in-one                                     |
| Cluster URL           | https://kubernetes.default.svc                        |
| Namespace             | openshift-gitops                                      |

You can also update the following parameters to customize the installation.

| Parameter                             | Type   | Default Value      | Description 
| ------------------------------------- |--------|--------------------|-------------
| argocd.cluster                        | string | openshift          | The type of the cluster that Argo CD runs on.Valid values include: openshift, kubernetes.
| argocd.allowLocalDeploy               | bool   | true               | Allow apps to be deployed on the same cluster where Argo CD runs.
| rookceph.enabled                      | bool   | true               | Specify whether to install Ceph as storage used by Cloud Pak for Watson AIOps.
| cp4waiops.version                     | string | v3.7               | Specify the version of Cloud Pak for Watson AIOps v3.7.
| cp4waiops.profile                     | string | small              | The Cloud Pak for Watson AIOps deployment profile: x-small, small, or large.
| cp4waiops.aiManager.enabled           | bool   | true               | Specify whether to install AI Manager.
| cp4waiops.aiManager.namespace         | string | cp4waiops          | The namespace where AI Manager is installed.
| cp4waiops.aiManager.instanceName      | string | aiops-installation | The instance name of AI Manager.
| cp4waiops.eventManager.enabled        | bool   | true               | Specify whether to install Event Manager.
| cp4waiops.eventManager.namespace      | string | noi                | The namespace where Event Manager is installed.
| cp4waiops.eventManager.clusterDomain  | string | REPLACE_IT         | The domain name of the cluster where Event Manager is installed.

NOTE:

- `cp4waiops.profile` The profile `x-small` is only suitable for demonstrations and proof-of-concept deployments. Production environments must use a `small` or `large` profile.
- `cp4waiops.eventManager.enabled` This must be false if you have a value of `x-small` for `cp4waiops.profile`, as this profile size is only suitable for deployments of AI Manager, and not for deployments of AI Manager and Event Manager.
- `cp4waiops.eventManager.clusterDomain` This is the domain name of the cluster where Event Manager is installed. Use a fully qualified domain name (FQDN). For example, `apps.clustername.abc.xyz.com`.
-->
<!--
#### Installing Cloud Pak for Watson AIOps using a custom build

The all-in-one configuration enables a custom build of Cloud Pak for Watson AIOps to be installed by providing a specific image catalog and channel.

Use the installation parameters listed in following table when you create the Argo CD App.

| Parameter                           | Type   | Default Value                             | Description 
| ----------------------------------- |--------|-------------------------------------------|-----------------------------------
| cp4waiops.aiManager.imageCatalog    | string | icr.io/cpopen/ibm-operator-catalog:latest | The image catalog for AI Manager.
| cp4waiops.aiManager.channel         | string | v3.7                                      | The subscription channel for AI Manager.
| cp4waiops.eventManager.imageCatalog | string | icr.io/cpopen/ibm-operator-catalog:latest | The image catalog for Event Manager.
| cp4waiops.eventManager.channel      | string | v1.10                                     | The subscription channel for Event Manager.

These parameters are invisible when you create the Argo CD App from the UI, but you can add them in the `HELM` > `VALUES` field when you are completing the form.

For example, adding the following YAML snippet to the `HELM` > `VALUES` field installs AI Manager and Event Manager with a custom `imageCatalog` and `channel`:

<div class="highlight"><pre><span></span><code><span class="nt">cp4waiops</span><span class="p">:</span>
<span class="w">  </span><span class="nt">aiManager</span><span class="p">:</span>
<span class="w">    </span><span class="nt">imageCatalog</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;my_custom_image_catalog_for_ai_manager&gt;</span>
<span class="w">    </span><span class="nt">channel</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;my_custom_channel_for_ai_manager&gt;</span>
<span class="w">  </span><span class="nt">eventManager</span><span class="p">:</span>
<span class="w">    </span><span class="nt">imageCatalog</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;my_custom_image_catalog_for_event_manager&gt;</span>
<span class="w">    </span><span class="nt">channel</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;my_custom_channel_for_event_manager&gt;</span>
</code></pre></div>

The all-in-one configuration also exposes some more installation parameters that are not visible from the UI that enable further customization of the installation. The following table lists some of these parameters. To find out more about the usage of these parameters, see [Cloud Pak for Watson AIOps Customized Install Options Using GitOps](./cp4waiops-custom-install.md).

| Parameter                             | Type   | Default Value | Description 
| ------------------------------------- |--------|---------------|-----------------------------------
| cp4waiops.storageClass                | string | rook-cephfs   | The storage class for Cloud Pak for Watson AIOps to use.
| cp4waiops.storageClassLargeBlock      | string | rook-cephfs   | The storage class for large block for Cloud Pak for Watson AIOps to use.
| cp4waiops.eventManager.version        | string | 1.6.6         | The version of Event Manager.
| cp4waiops.eventManager.deploymentType | string | trial         | The deployment type of Event Manager, valid values include: trial, production.
| globalImagePullSecrets                | array  | n/a           | A list of registry secrets that are needed for pulling images during the installation.

For example, if the custom build to be installed includes images from registries other than the official IBM Entitled Registry, you can use `globalImagePullSecrets` to specify all the necessary information to access these registries, such as registry URL, username, and password.

These parameters are invisible when you create the Argo CD App from the UI, but you can add them in the `HELM` > `VALUES` field when you are completing the form. For example,

<div class="highlight"><pre><span></span><code><span class="nt">globalImagePullSecrets</span><span class="p">:</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;my_own_registry_1&gt;</span>
<span class="w">  </span><span class="nt">username</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;username_to_registry_1&gt;</span>
<span class="w">  </span><span class="nt">password</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;password_to_registry_1&gt;</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;my_own_registry_2&gt;</span>
<span class="w">  </span><span class="nt">username</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;username_to_registry_2&gt;</span>
<span class="w">  </span><span class="nt">password</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;password_to_registry_2&gt;</span>
</code></pre></div>
-->
<h3 id="verify-the-cloud-pak-for-watson-aiops-installation">Verify the Cloud Pak for Watson AIOps installation<a class="headerlink" href="#verify-the-cloud-pak-for-watson-aiops-installation" title="Permanent link">&para;</a></h3>
<p>When Ceph and Cloud Pak for Watson AIOps are ready, you can see these Apps with a status of <code>Healthy</code> and <code>Synced</code> in the Argo CD UI.</p>
<p><img alt="w" src="../images/all-in-one-apps.png" /></p>
<p><img alt="w" src="../images/application-sets.png" /></p>
<p>You can check the topology of Cloud Pak for Watson AIOps from the Argo CD UI as follows:</p>
<p><img alt="w" src="../images/aimanager-33.png" /></p>
<p><img alt="w" src="../images/eventmanager-33.png" /></p>
<p>You can also check your Cloud Pak for Watson AIOps installation from the command line. For example, to check the AI Manager pods, run the following command:</p>
<div class="highlight"><pre><span></span><code><span class="gp"># </span>oc<span class="w"> </span>get<span class="w"> </span>po<span class="w"> </span>-n<span class="w"> </span>cp4waiops
<span class="go">NAME                                                              READY   STATUS      RESTARTS        AGE</span>
<span class="go">aimanager-aio-ai-platform-api-server-7d48c6dd89-6bn9t             1/1     Running     0               3h33m</span>
<span class="go">aimanager-aio-change-risk-bd78c587c-fhg67                         1/1     Running     0               3h33m</span>
<span class="go">aimanager-aio-chatops-orchestrator-6d897b4497-7xjwt               1/1     Running     0               3h33m</span>
<span class="go">aimanager-aio-chatops-slack-integrator-5b8dcb9785-flcs9           1/1     Running     0               3h33m</span>
<span class="go">aimanager-aio-chatops-teams-integrator-8d586fc7f-h5bpg            1/1     Running     0               3h33m</span>
<span class="go">aimanager-aio-controller-5f7d877f-9zxfj                           1/1     Running     0               3h33m</span>
<span class="go">aimanager-aio-cr-api-865c8f8f85-bthhw                             1/1     Running     0               3h33m</span>
<span class="go">aimanager-aio-create-certificate-k9zmp                            0/1     Completed   0               3h36m</span>
<span class="go">aimanager-aio-create-luigi-prereqs-glmrz                          0/1     Completed   0               3h33m</span>
<span class="go">aimanager-aio-create-postgres-database-68j48                      0/1     Completed   0               3h35m</span>
<span class="go">aimanager-aio-create-secrets-lkd69                                0/1     Completed   0               3h35m</span>
<span class="go">aimanager-aio-create-truststore-k66d8                             0/1     Completed   0               3h34m</span>
<span class="go">aimanager-aio-curator-job-28004340-sp9sl                          0/1     Completed   0               178m</span>
<span class="go">aimanager-aio-curator-job-28004400-qt45t                          0/1     Completed   0               118m</span>
<span class="go">aimanager-aio-curator-job-28004460-4phlp                          0/1     Completed   0               58m</span>
<span class="go">aimanager-aio-log-anomaly-detector-6bc99f9988-kj6kh               1/1     Running     0               3h33m</span>
<span class="go">aimanager-aio-log-anomaly-detector-6bc99f9988-mf8kb               1/1     Running     0               3h33m</span>
<span class="go">aimanager-aio-log-anomaly-feedback-learning-6d848588c7-9ptg7      1/1     Running     0               3h33m</span>
<span class="go">aimanager-aio-luigi-daemon-0                                      1/1     Running     0               3h33m</span>
<span class="go">aimanager-aio-oob-recommended-actions-f6fd5465d-dzhqv             1/1     Running     0               3h33m</span>
<span class="go">aimanager-aio-pruning-job-28004340-6f94t                          0/1     Completed   0               178m</span>
<span class="go">aimanager-aio-pruning-job-28004400-z9xm2                          0/1     Completed   0               118m</span>
<span class="go">aimanager-aio-pruning-job-28004460-p5j2b                          0/1     Completed   0               58m</span>
<span class="go">aimanager-aio-similar-incidents-service-68597967fb-s7jbg          1/1     Running     0               3h33m</span>
<span class="go">aimanager-ibm-minio-0                                             1/1     Running     0               3h33m</span>
<span class="go">aimanager-operator-controller-manager-c49879bc-w69md              1/1     Running     0               4h33m</span>
<span class="go">aiops-ai-model-ui-7bcff98898-j7x9q                                1/1     Running     0               4h7m</span>
<span class="go">aiops-akora-ui-7c4f67dc8f-dvdw6                                   1/1     Running     0               4h2m</span>
<span class="go">aiops-application-details-ui-api-56655575f-whz6w                  1/1     Running     0               4h2m</span>
<span class="go">aiops-base-ui-5596f5dbf9-d8rmj                                    1/1     Running     0               4h6m</span>
<span class="go">aiops-connections-ui-589b76885-qtkl5                              1/1     Running     0               4h7m</span>
<span class="go">aiops-insights-pg-setup-bvnsv                                     0/1     Completed   0               3h50m</span>
<span class="go">aiops-insights-ui-api-6cfbf4779c-5n2hj                            1/1     Running     0               3h50m</span>
<span class="go">aiops-insights-ui-datarouting-7dfdf6c5bc-xc8sn                    1/1     Running     1 (3h45m ago)   3h50m</span>
<span class="go">aiops-insights-ui-f9fc67876-lk4fz                                 1/1     Running     0               4h7m</span>
<span class="go">aiops-installation-edb-postgres-1                                 1/1     Running     0               4h33m</span>
<span class="go">aiops-ir-analytics-cassandra-setup-96mhh                          0/1     Completed   0               3h48m</span>
<span class="go">aiops-ir-analytics-classifier-5f78f877db-nrgf8                    1/1     Running     0               3h38m</span>
<span class="go">aiops-ir-analytics-metric-action-8658f45c78-kncld                 1/1     Running     2 (3h30m ago)   3h37m</span>
<span class="go">aiops-ir-analytics-metric-api-6796c5594b-ctw84                    1/1     Running     0               3h38m</span>
<span class="go">aiops-ir-analytics-metric-spark-59c45f6b55-zv4pr                  1/1     Running     0               3h38m</span>
<span class="go">aiops-ir-analytics-probable-cause-initialisation-lrftt            0/3     Completed   0               3h45m</span>
<span class="go">aiops-ir-analytics-probablecause-84c7d88f48-ldlzf                 1/1     Running     0               3h37m</span>
<span class="go">aiops-ir-analytics-spark-master-75bbc97cc-dwgr5                   1/1     Running     0               3h37m</span>
<span class="go">aiops-ir-analytics-spark-pipeline-composer-7ccf698df8-xskx9       1/1     Running     1 (3h31m ago)   3h37m</span>
<span class="go">aiops-ir-analytics-spark-worker-0                                 1/1     Running     0               3h37m</span>
<span class="go">aiops-ir-analytics-spark-worker-1                                 1/1     Running     0               3h33m</span>
<span class="go">aiops-ir-analytics-xiny-initialisation-2dlvj                      0/1     Completed   0               3h38m</span>
<span class="go">aiops-ir-core-archiving-7f9d8d9fb7-shz2z                          1/1     Running     0               3h36m</span>
<span class="go">aiops-ir-core-archiving-setup-264bx                               0/1     Completed   0               3h47m</span>
<span class="go">aiops-ir-core-cem-users-7b7748cfbd-4j8fq                          1/1     Running     0               3h36m</span>
<span class="go">aiops-ir-core-datarouting-5f744668b5-xflcb                        1/1     Running     0               3h36m</span>
<span class="go">aiops-ir-core-esarchiving-5bc58f5c64-7glrr                        1/1     Running     0               3h36m</span>
<span class="go">aiops-ir-core-ncobackup-0                                         2/2     Running     0               3h37m</span>
<span class="go">aiops-ir-core-ncodl-api-84f6697d4d-b4s7h                          1/1     Running     0               3h36m</span>
<span class="go">aiops-ir-core-ncodl-cjob-tdata-28004460-xm7k6                     0/1     Completed   0               58m</span>
<span class="go">aiops-ir-core-ncodl-if-d76449d68-25qb4                            1/1     Running     0               3h36m</span>
<span class="go">aiops-ir-core-ncodl-jobmgr-669bf484cd-crvgk                       1/1     Running     0               3h36m</span>
<span class="go">aiops-ir-core-ncodl-presetup-2bwtx                                0/1     Completed   0               3h47m</span>
<span class="go">aiops-ir-core-ncodl-setup-hts29                                   0/1     Completed   0               3h34m</span>
<span class="go">aiops-ir-core-ncodl-std-576558c484-8blgp                          1/1     Running     0               3h36m</span>
<span class="go">aiops-ir-core-ncoprimary-0                                        1/1     Running     0               3h40m</span>
<span class="go">aiops-ir-core-rba-as-864d9596f9-lpgv6                             1/1     Running     0               3h36m</span>
<span class="go">aiops-ir-core-rba-rbs-7f7d4fb4c-pwxs4                             1/1     Running     0               3h36m</span>
<span class="go">aiops-ir-core-usercfg-5ddbdfc9c4-h6njm                            1/1     Running     0               3h36m</span>
<span class="go">aiops-ir-core-usercfg-presetup-6p7fz                              0/1     Completed   0               3h47m</span>
<span class="go">aiops-ir-lifecycle-create-policies-job-x526x                      0/1     Completed   0               3h43m</span>
<span class="go">aiops-ir-lifecycle-datarouting-66cf4cd87-xtk5w                    1/1     Running     0               3h43m</span>
<span class="go">aiops-ir-lifecycle-eventprocessor-ep-jobmanager-0                 2/2     Running     0               3h45m</span>
<span class="go">aiops-ir-lifecycle-eventprocessor-ep-taskmanager-0                1/1     Running     0               3h44m</span>
<span class="go">aiops-ir-lifecycle-policy-grpc-svc-7cd87f4644-nhsc9               1/1     Running     0               3h39m</span>
<span class="go">aiops-ir-lifecycle-policy-registry-svc-7ccf749948-klxw5           1/1     Running     1 (3h40m ago)   3h43m</span>
<span class="go">aiops-ir-lifecycle-policy-registry-svc-job-4tggl                  0/1     Completed   0               3h43m</span>
<span class="go">aiops-ir-ui-api-graphql-dc6896488-4ccvh                           1/1     Running     0               4h2m</span>
<span class="go">aiops-topology-cassandra-0                                        1/1     Running     0               3h48m</span>
<span class="go">aiops-topology-cassandra-auth-secret-generator-f5ns6              0/1     Completed   0               3h49m</span>
<span class="go">aiops-topology-file-observer-6f6586649b-mfzf7                     1/1     Running     0               3h30m</span>
<span class="go">aiops-topology-inventory-5ddfb9fbd5-2bhgc                         1/1     Running     0               3h30m</span>
<span class="go">aiops-topology-inventory-schema-bdtqh                             0/1     Completed   0               3h33m</span>
<span class="go">aiops-topology-kubernetes-observer-d7bc69989-wz7l9                1/1     Running     0               3h30m</span>
<span class="go">aiops-topology-layout-7dcd79b585-57ls4                            1/1     Running     0               3h30m</span>
<span class="go">aiops-topology-merge-f579ddc98-2mh99                              1/1     Running     0               3h30m</span>
<span class="go">aiops-topology-observer-service-769cbcb68d-4hrwc                  1/1     Running     0               3h30m</span>
<span class="go">aiops-topology-rest-observer-666cc7b874-wtb2p                     1/1     Running     0               3h30m</span>
<span class="go">aiops-topology-servicenow-observer-546c86fff4-dtzvm               1/1     Running     0               3h30m</span>
<span class="go">aiops-topology-sevone-observer-7cc9954459-x96c9                   1/1     Running     0               3h30m</span>
<span class="go">aiops-topology-status-668cf96f65-7v4c9                            1/1     Running     0               3h30m</span>
<span class="go">aiops-topology-topology-74c6c6864c-cjtjk                          1/1     Running     0               3h30m</span>
<span class="go">aiops-topology-ui-api-d5bcd664f-n69zc                             1/1     Running     0               3h30m</span>
<span class="go">aiops-topology-vmvcenter-observer-854b549747-fvrlf                1/1     Running     0               3h30m</span>
<span class="go">aiopsedge-instana-topology-integrator-867db845b8-lsvg6            1/1     Running     0               3h50m</span>
<span class="go">aiopsedge-operator-controller-manager-58885dd575-dck2k            1/1     Running     2 (4h24m ago)   4h33m</span>
<span class="go">aiopsedge-operator-controller-manager-58885dd575-qscdq            1/1     Running     2 (4h27m ago)   4h33m</span>
<span class="go">asm-operator-9966456b8-mtmk8                                      1/1     Running     0               4h33m</span>
<span class="go">c-example-couchdbcluster-m-0                                      2/2     Running     0               3h43m</span>
<span class="go">c-example-redis-m-0                                               4/4     Running     0               4h31m</span>
<span class="go">c-example-redis-m-1                                               4/4     Running     0               4h31m</span>
<span class="go">c-example-redis-m-2                                               4/4     Running     0               4h31m</span>
<span class="go">c-example-redis-s-0                                               4/4     Running     0               4h26m</span>
<span class="go">c-example-redis-s-1                                               4/4     Running     0               4h26m</span>
<span class="go">c-example-redis-s-2                                               4/4     Running     0               4h26m</span>
<span class="go">check-aiops-prereqs-7bdpz                                         0/1     Completed   0               4h43m</span>
<span class="go">configure-aiops-network-policy-q4qqb                              0/1     Completed   0               4h42m</span>
<span class="go">connector-bridge-58ccbf8cd4-8hhkr                                 1/1     Running     1 (3h48m ago)   3h50m</span>
<span class="go">connector-manager-d8649b9c9-bvjc6                                 1/1     Running     0               4h21m</span>
<span class="go">connector-orchestrator-56b78565cc-nlqq9                           1/1     Running     0               3h50m</span>
<span class="go">cp4waiops-connectors-deploy-69784d7658-h2wjg                      1/1     Running     0               4h22m</span>
<span class="go">cp4waiops-eventprocessor-eve-29ee-ep-jobmanager-0                 2/2     Running     0               3h28m</span>
<span class="go">cp4waiops-eventprocessor-eve-29ee-ep-taskmanager-0                1/1     Running     0               3h28m</span>
<span class="go">cp4waiops-metricsprocessor-789fccfc47-9x2q5                       1/1     Running     0               4h21m</span>
<span class="go">create-secrets-job-sjckp                                          0/1     Completed   0               4h28m</span>
<span class="go">gateway-kong-config-svc-28004510-6j4n5                            0/1     Completed   0               8m28s</span>
<span class="go">gateway-kong-f999c794b-7mlzs                                      2/2     Running     0               4h31m</span>
<span class="go">gateway-kong-post-install-resources-5b554                         0/1     Completed   0               4h31m</span>
<span class="go">iaf-core-operator-controller-manager-568cfb459b-2czwd             1/1     Running     0               4h40m</span>
<span class="go">iaf-eventprocessing-operator-controller-manager-6b6f6f758cvxb68   1/1     Running     1 (4h37m ago)   4h40m</span>
<span class="go">iaf-flink-operator-controller-manager-b7b9ccb99-jb75p             1/1     Running     0               4h40m</span>
<span class="go">iaf-operator-controller-manager-bc6458cf5-wcn84                   1/1     Running     0               4h40m</span>
<span class="go">iaf-system-elasticsearch-es-aiops-0                               2/2     Running     0               4h22m</span>
<span class="go">iaf-system-entity-operator-5fc7c64f56-xrh7d                       3/3     Running     0               4h18m</span>
<span class="go">iaf-system-kafka-0                                                1/1     Running     0               4h20m</span>
<span class="go">iaf-system-zookeeper-0                                            1/1     Running     0               4h23m</span>
<span class="go">iaf-zen-tour-job-xbb96                                            0/1     Completed   0               3h53m</span>
<span class="go">iam-config-job-7cxv8                                              0/1     Completed   0               4h</span>
<span class="go">ibm-aiops-orchestrator-controller-manager-54688c665-p2fkb         1/1     Running     0               4h38m</span>
<span class="go">ibm-cloud-databases-redis-operator-8b8978d84-h74rb                1/1     Running     0               4h33m</span>
<span class="go">ibm-common-service-operator-7664b948b8-cwlz6                      1/1     Running     1 (4h40m ago)   4h40m</span>
<span class="go">ibm-elastic-operator-controller-manager-f98ffdd48-mrrdf           1/1     Running     0               4h40m</span>
<span class="go">ibm-ir-ai-operator-controller-manager-7776894cb5-jldzv            1/1     Running     0               4h33m</span>
<span class="go">ibm-kong-operator-57f47b648d-d47ql                                1/1     Running     0               4h33m</span>
<span class="go">ibm-nginx-cdd99b479-lkx6h                                         1/1     Running     0               3h54m</span>
<span class="go">ibm-nginx-cdd99b479-tf9nm                                         1/1     Running     0               3h54m</span>
<span class="go">ibm-nginx-tester-6676c6b8c6-dsk2s                                 1/1     Running     0               4h4m</span>
<span class="go">ibm-secure-tunnel-operator-57d7766796-h7xmv                       1/1     Running     0               4h33m</span>
<span class="go">ibm-vault-deploy-consul-0                                         1/1     Running     0               4h21m</span>
<span class="go">ibm-vault-deploy-vault-0                                          1/1     Running     0               4h21m</span>
<span class="go">ibm-vault-deploy-vault-injector-5d86877867-7dntk                  1/1     Running     0               4h21m</span>
<span class="go">ibm-vault-operator-controller-manager-fdcf4b74d-g4gxj             1/1     Running     0               4h28m</span>
<span class="go">ibm-watson-aiops-ui-operator-controller-manager-8fb86db7b-cdf6n   1/1     Running     11 (4h8m ago)   4h33m</span>
<span class="go">ir-core-operator-controller-manager-64d9777669-qq94s              1/1     Running     0               4h33m</span>
<span class="go">ir-lifecycle-operator-controller-manager-69bdd94544-5nsgt         1/1     Running     0               4h33m</span>
<span class="go">post-aiops-resources-d9nqp                                        0/1     Completed   0               4h7m</span>
<span class="go">post-aiops-translations-qmpb5                                     0/1     Completed   0               4h7m</span>
<span class="go">post-aiops-update-user-role-csbwc                                 0/1     Completed   2               4h7m</span>
<span class="go">setup-nginx-job-26rql                                             0/1     Completed   0               4h11m</span>
<span class="go">sre-tunnel-controller-0                                           1/1     Running     0               4h26m</span>
<span class="go">sre-tunnel-tunnel-network-api-7c6596d94f-g4sbb                    1/1     Running     0               4h29m</span>
<span class="go">sre-tunnel-tunnel-ui-mcmtunnelui-7877465766-lgzph                 1/1     Running     0               4h29m</span>
<span class="go">usermgmt-6b976464f-6vf76                                          1/1     Running     0               4h</span>
<span class="go">usermgmt-6b976464f-mrv8z                                          1/1     Running     0               4h</span>
<span class="go">zen-audit-59ff87c7dc-fwwbj                                        1/1     Running     0               4h8m</span>
<span class="go">zen-core-7fd5cff5c6-2ppfz                                         1/1     Running     0               4h8m</span>
<span class="go">zen-core-7fd5cff5c6-f8pww                                         1/1     Running     0               4h8m</span>
<span class="go">zen-core-api-55594899d7-d2p95                                     1/1     Running     0               4h8m</span>
<span class="go">zen-core-api-55594899d7-ndd6t                                     1/1     Running     0               4h8m</span>
<span class="go">zen-metastoredb-0                                                 1/1     Running     0               4h19m</span>
<span class="go">zen-metastoredb-1                                                 1/1     Running     0               4h19m</span>
<span class="go">zen-metastoredb-2                                                 1/1     Running     0               4h19m</span>
<span class="go">zen-metastoredb-certs-xxx6g                                       0/1     Completed   0               4h24m</span>
<span class="go">zen-metastoredb-init-c4j2p                                        0/1     Completed   0               4h19m</span>
<span class="go">zen-pre-requisite-job-xm8cf                                       0/1     Completed   0               4h11m</span>
<span class="go">zen-watcher-9f8b6c975-tlvcc                                       1/1     Running     0               4h8m</span>
</code></pre></div>
<p>If any pods are in an error state, you can check the logs from the Argo CD UI, or you can run <code>oc logs</code> from the command line.</p>
<h3 id="access-cloud-pak-for-watson-aiops">Access Cloud Pak for Watson AIOps<a class="headerlink" href="#access-cloud-pak-for-watson-aiops" title="Permanent link">&para;</a></h3>
<p>If all of the pods for Cloud Pak for Watson AIOps are up and running, then you can log in to the Cloud Pak for Watson AIOps UI as follows.</p>
<p>Log in to the Red Hat OpenShift console, and then click the drop-down menu on the upper right.</p>
<p><img alt="w" src="../images/ocp-hub.png" /></p>
<p>Click the <code>IBM Cloud Pak for Administration</code> link, and select <code>OpenShift authentication</code>.</p>
<p><img alt="w" src="../images/cpk-hub.png" /></p>
<p>Log in to <code>IBM Cloud Pak for Administration</code>, click the drop-down menu on the upper right, and then select <code>IBM Automation (cp4waiops)</code>.</p>
<p><img alt="w" src="../images/cpk-hub-ui.png" /></p>
<p>Log in to the Cloud Pak for Watson AIOps UI and then select <code>OpenShift authentication</code>.</p>
<p><img alt="w" src="../images/cp4waiops.png" /></p>
<p>The Cloud Pak for Watson AIOps user interface is displayed.</p>
<p><img alt="w" src="../images/cp4waiops-ui.png" /></p>
<p>Congratulations! You are ready to play with Cloud Pak for Watson AIOps!</p>
<h2 id="installing-cloud-pak-for-watson-aiops-from-the-command-line">Installing Cloud Pak for Watson AIOps from the command line<a class="headerlink" href="#installing-cloud-pak-for-watson-aiops-from-the-command-line" title="Permanent link">&para;</a></h2>
<h3 id="log-in-to-argo-cd-cli">Log in to Argo CD (CLI)<a class="headerlink" href="#log-in-to-argo-cd-cli" title="Permanent link">&para;</a></h3>
<p>Make sure that the Argo CD CLI (<code>argocd</code> command) is installed. For more information, see the <a href="https://argo-cd.readthedocs.io/en/stable/cli_installation/">Argo documentation</a>.</p>
<p>Then, run the following commands to log in to Argo CD:</p>
<div class="highlight"><pre><span></span><code><span class="nv">argo_route</span><span class="o">=</span>openshift-gitops-server
<span class="nv">argo_secret</span><span class="o">=</span>openshift-gitops-cluster
<span class="nv">sa_account</span><span class="o">=</span>openshift-gitops-argocd-application-controller

<span class="nv">argo_pwd</span><span class="o">=</span><span class="k">$(</span>oc<span class="w"> </span>get<span class="w"> </span>secret<span class="w"> </span><span class="si">${</span><span class="nv">argo_secret</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
<span class="w">            </span>-n<span class="w"> </span>openshift-gitops<span class="w"> </span><span class="se">\</span>
<span class="w">            </span>-o<span class="w"> </span><span class="nv">jsonpath</span><span class="o">=</span><span class="s1">&#39;{.data.admin\.password}&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>base64<span class="w"> </span>-d<span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="k">)</span><span class="w"> </span><span class="se">\</span>
<span class="o">&amp;&amp;</span><span class="w"> </span><span class="nv">argo_url</span><span class="o">=</span><span class="k">$(</span>oc<span class="w"> </span>get<span class="w"> </span>route<span class="w"> </span><span class="si">${</span><span class="nv">argo_route</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
<span class="w">               </span>-n<span class="w"> </span>openshift-gitops<span class="w"> </span><span class="se">\</span>
<span class="w">               </span>-o<span class="w"> </span><span class="nv">jsonpath</span><span class="o">=</span><span class="s1">&#39;{.spec.host}&#39;</span><span class="k">)</span><span class="w"> </span><span class="se">\</span>
<span class="o">&amp;&amp;</span><span class="w"> </span>argocd<span class="w"> </span>login<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">argo_url</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--username<span class="w"> </span>admin<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--password<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">argo_pwd</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--insecure
</code></pre></div>
<h4 id="grant-argo-cd-cluster-admin-permission-cli">Grant Argo CD cluster admin permission (CLI)<a class="headerlink" href="#grant-argo-cd-cluster-admin-permission-cli" title="Permanent link">&para;</a></h4>
<p>Apply the following YAML manifest to the cluster where Argo CD runs:</p>
<div class="highlight"><pre><span></span><code><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ClusterRoleBinding</span>
<span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">rbac.authorization.k8s.io/v1</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">argocd-admin</span>
<span class="nt">subjects</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ServiceAccount</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">openshift-gitops-argocd-application-controller</span>
<span class="w">    </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">openshift-gitops</span>
<span class="nt">roleRef</span><span class="p">:</span>
<span class="w">  </span><span class="nt">apiGroup</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">rbac.authorization.k8s.io</span>
<span class="w">  </span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ClusterRole</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cluster-admin</span>
</code></pre></div>
<h3 id="storage-considerations-cli">Storage considerations (CLI)<a class="headerlink" href="#storage-considerations-cli" title="Permanent link">&para;</a></h3>
<p>You must use a supported storage provider. For more information about supported storage, see <a href="https://www.ibm.com/docs/en/cloud-paks/cloud-pak-watson-aiops/3.7.0?topic=requirements-storage">Storage Considerations</a>. If your Red Hat OpenShift cluster already has a single default supported storage class, then skip this step.</p>
<p><strong>Note</strong>: Multiple default storage classes cause deployment problems. Run the following command to check your cluster's storage class.</p>
<div class="highlight"><pre><span></span><code>oc<span class="w"> </span>get<span class="w"> </span>sc
</code></pre></div>
<p>If your cluster has multiple default storage classes, then you must edit your storage classes to leave only one storage class as the default. To remove the default setting from a storage class, run the following command to edit the storage class, and then delete the <code>storageclass.kubernetes.io/is-default-class: "true"</code> line under <code>annotations</code>.</p>
<div class="highlight"><pre><span></span><code>oc edit sc [STORAGE-CLASS-NAME]
</code></pre></div>
<p>This tutorial sets up and uses Ceph storage for demonstration purpose. </p>
<p>To create an Argo CD App for Ceph storage, run the following command:</p>
<div class="highlight"><pre><span></span><code>argocd<span class="w"> </span>app<span class="w"> </span>create<span class="w"> </span>ceph<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--sync-policy<span class="w"> </span>automatic<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--project<span class="w"> </span>default<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--repo<span class="w"> </span>https://github.com/IBM/cp4waiops-gitops.git<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--path<span class="w"> </span>config/ceph<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--revision<span class="w"> </span>release-3.7<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--dest-namespace<span class="w"> </span>rook-ceph<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--dest-server<span class="w"> </span>https://kubernetes.default.svc
</code></pre></div>
<h3 id="obtain-an-entitlement-key-cli">Obtain an entitlement key (CLI)<a class="headerlink" href="#obtain-an-entitlement-key-cli" title="Permanent link">&para;</a></h3>
<p>Obtain your IBM Entitled Registry key to enable your deployment to pull images from the IBM Entitled Registry.</p>
<ol>
<li>
<p>Obtain the entitlement key that is assigned to your IBMid. Log in to <a href="https://myibm.ibm.com/products-services/containerlibrary">MyIBM Container Software Library</a> with the IBMid and password details that are associated with the entitled software.</p>
</li>
<li>
<p>In the "Entitlement key" section, select "Copy key" to copy the entitlement key to the clipboard.</p>
</li>
<li>
<p>Copy the entitlement key to a safe place so that you can use it later when you update the global pull secret for the cluster.</p>
</li>
<li>
<p>(Optional) Verify the validity of the key by logging in to the IBM Entitled Registry.</p>
</li>
</ol>
<p>Depending on the container system that you are using, you might need to use <code>docker login</code> instead of <code>podman login</code> for the following command.</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">IBM_ENTITLEMENT_KEY</span><span class="o">=</span>the<span class="w"> </span>key<span class="w"> </span>from<span class="w"> </span>the<span class="w"> </span>previous<span class="w"> </span>steps
podman<span class="w"> </span>login<span class="w"> </span>cp.icr.io<span class="w"> </span>--username<span class="w"> </span>cp<span class="w"> </span>--password<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">IBM_ENTITLEMENT_KEY</span><span class="p">:?</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>
<h3 id="update-the-openshift-container-platform-global-pull-secret-cli">Update the OpenShift Container Platform global pull secret (CLI)<a class="headerlink" href="#update-the-openshift-container-platform-global-pull-secret-cli" title="Permanent link">&para;</a></h3>
<p>Run the following command to create the entitlement key pull secret:</p>
<div class="highlight"><pre><span></span><code>oc create secret docker-registry ibm-entitlement-key \
    --docker-username=cp \
    --docker-password=&lt;entitlement-key&gt; \
    --docker-server=cp.icr.io \
    --namespace=cp4waiops
</code></pre></div>
<p>Where <code>&lt;entitlement-key&gt;</code> is the entitlement key that you copied in the previous step.</p>
<h3 id="installing-ai-manager-and-event-manager-separately-cli">Installing AI Manager and Event Manager separately (CLI)<a class="headerlink" href="#installing-ai-manager-and-event-manager-separately-cli" title="Permanent link">&para;</a></h3>
<h4 id="install-shared-components-cli">Install shared components (CLI)<a class="headerlink" href="#install-shared-components-cli" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code>argocd<span class="w"> </span>app<span class="w"> </span>create<span class="w"> </span>cp-shared<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--sync-policy<span class="w"> </span>automatic<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--project<span class="w"> </span>default<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--repo<span class="w"> </span>https://github.com/IBM/cp4waiops-gitops.git<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--path<span class="w"> </span>config/cp-shared/operators<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--revision<span class="w"> </span>release-3.7<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--dest-namespace<span class="w"> </span>openshift-marketplace<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--dest-server<span class="w"> </span>https://kubernetes.default.svc<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--helm-set<span class="w"> </span>spec.imageCatalog<span class="o">=</span>icr.io/cpopen/ibm-operator-catalog:latest<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--helm-set<span class="w"> </span>spec.catalogName<span class="o">=</span>ibm-operator-catalog<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--helm-set<span class="w"> </span>spec.catalogNamespace<span class="o">=</span>openshift-marketplace
</code></pre></div>
<h4 id="install-ai-manager-cli">Install AI Manager (CLI)<a class="headerlink" href="#install-ai-manager-cli" title="Permanent link">&para;</a></h4>
<p>Run the following command to install AI Manager by using GitOps to create an Argo CD App for AI Manager.</p>
<div class="highlight"><pre><span></span><code>argocd<span class="w"> </span>app<span class="w"> </span>create<span class="w"> </span>aimanager-app<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--sync-policy<span class="w"> </span>automatic<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--project<span class="w"> </span>default<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--repo<span class="w"> </span>https://github.com/IBM/cp4waiops-gitops.git<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--path<span class="w"> </span>config/cp4waiops/install-aimgr<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--revision<span class="w"> </span>release-3.7<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--dest-namespace<span class="w"> </span>cp4waiops<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--dest-server<span class="w"> </span>https://kubernetes.default.svc<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--helm-set<span class="w"> </span>spec.storageClass<span class="o">=</span>rook-cephfs<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--helm-set<span class="w"> </span>spec.storageClassLargeBlock<span class="o">=</span>rook-cephfs<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--helm-set<span class="w"> </span>spec.aiManager.namespace<span class="o">=</span>cp4waiops<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--helm-set<span class="w"> </span>spec.aiManager.channel<span class="o">=</span>v3.7<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--helm-set<span class="w"> </span>spec.aiManager.size<span class="o">=</span>small<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--helm-set<span class="w"> </span>spec.aiManager.pakModules.aiopsFoundation.enabled<span class="o">=</span><span class="nb">true</span><span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--helm-set<span class="w"> </span>spec.aiManager.pakModules.applicationManager.enabled<span class="o">=</span><span class="nb">true</span><span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--helm-set<span class="w"> </span>spec.aiManager.pakModules.aiManager.enabled<span class="o">=</span><span class="nb">true</span><span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--helm-set<span class="w"> </span>spec.aiManager.pakModules.connection.enabled<span class="o">=</span><span class="nb">true</span>
</code></pre></div>
<p><strong>Important</strong>: You must update the values of spec.storageClass and storageClassLargeBlock to be the RWX and RWO storage classes that are being used in your environment. You can find this by running the command <code>oc get sc</code>.</p>
<h4 id="install-event-manager-cli">Install Event Manager (CLI)<a class="headerlink" href="#install-event-manager-cli" title="Permanent link">&para;</a></h4>
<p>Run the following command to install Event Manager by using GitOps to create an Argo CD App for Event Manager.</p>
<div class="highlight"><pre><span></span><code>argocd<span class="w"> </span>app<span class="w"> </span>create<span class="w"> </span>eventmanager-app<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--sync-policy<span class="w"> </span>automatic<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--project<span class="w"> </span>default<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--repo<span class="w"> </span>https://github.com/IBM/cp4waiops-gitops.git<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--path<span class="w"> </span>config/cp4waiops/install-emgr<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--revision<span class="w"> </span>release-3.7<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--dest-namespace<span class="w"> </span>noi<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--dest-server<span class="w"> </span>https://kubernetes.default.svc<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--helm-set<span class="w"> </span>spec.imageCatalog<span class="o">=</span>icr.io/cpopen/ibm-operator-catalog:latest<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--helm-set<span class="w"> </span>spec.storageClass<span class="o">=</span>rook-cephfs<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--helm-set<span class="w"> </span>spec.storageClassLargeBlock<span class="o">=</span>rook-cephfs<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--helm-set<span class="w"> </span>spec.eventManager.namespace<span class="o">=</span>noi<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--helm-set<span class="w"> </span>spec.eventManager.channel<span class="o">=</span>v1.12<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--helm-set<span class="w"> </span>spec.eventManager.version<span class="o">=</span><span class="m">1</span>.6.8<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--helm-set<span class="w"> </span>spec.eventManager.clusterDomain<span class="o">=</span>&lt;domain_name&gt;<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--helm-set<span class="w"> </span>spec.eventManager.deploymentType<span class="o">=</span>trial
</code></pre></div>
<p><strong>Important</strong>:
- You must update the values of spec.storageClass and storageClassLargeBlock to be the RWX and RWO storage classes that are being used in your environment. You can find this by running the command <code>oc get sc</code>.
- <code>&lt;domain_name&gt;</code> must be the domain name of the cluster where Event Manager is installed. Use a fully qualified domain name (FQDN). For example, <code>apps.clustername.abc.xyz.com</code>. You can also retrieve the FDQN by running the following command:</p>
<div class="highlight"><pre><span></span><code><span class="nv">INGRESS_OPERATOR_NAMESPACE</span><span class="o">=</span>openshift-ingress-operator
<span class="nv">appDomain</span><span class="o">=</span><span class="sb">`</span>oc<span class="w"> </span>-n<span class="w"> </span><span class="si">${</span><span class="nv">INGRESS_OPERATOR_NAMESPACE</span><span class="si">}</span><span class="w"> </span>get<span class="w"> </span>ingresscontrollers<span class="w"> </span>default<span class="w"> </span>-o<span class="w"> </span>yaml<span class="w"> </span><span class="p">|</span><span class="w"> </span>yq<span class="w"> </span>.status.domain<span class="sb">`</span>
<span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">appDomain</span><span class="si">}</span>
</code></pre></div>
<h3 id="verify-the-cloud-pak-for-watson-aiops-installation-cli">Verify the Cloud Pak for Watson AIOps installation (CLI)<a class="headerlink" href="#verify-the-cloud-pak-for-watson-aiops-installation-cli" title="Permanent link">&para;</a></h3>
<p>Run the following command to verify that the Cloud Pak for Watson AIOps installation was successful:</p>
<div class="highlight"><pre><span></span><code>oc<span class="w"> </span>get<span class="w"> </span>application<span class="w"> </span>-A
</code></pre></div>
<p>Example output from a successful installation:</p>
<div class="highlight"><pre><span></span><code><span class="gp"># </span>oc<span class="w"> </span>get<span class="w"> </span>application<span class="w"> </span>-A
<span class="go">NAMESPACE          NAME                      SYNC STATUS   HEALTH STATUS</span>
<span class="go">openshift-gitops   cp4waiops                 Synced        Healthy</span>
<span class="go">openshift-gitops   in-cluster-aimanager      Synced        Healthy</span>
<span class="go">openshift-gitops   in-cluster-eventmanager   Synced        Healthy</span>
<span class="go">openshift-gitops   in-cluster-rook-ceph      Synced        Healthy</span>
</code></pre></div>
<p>Wait for a while and then run the following commands to verify that all of the pods in the <code>cp4waiops</code> and <code>noi</code> namespaces are running.</p>
<div class="highlight"><pre><span></span><code>oc get pod -n cp4waiops
oc get pod -n noi
</code></pre></div>
<h3 id="access-cloud-pak-for-watson-aiops-cli">Access Cloud Pak for Watson AIOps (CLI)<a class="headerlink" href="#access-cloud-pak-for-watson-aiops-cli" title="Permanent link">&para;</a></h3>
<p>If all of the pods for Cloud Pak for Watson AIOps are up and running, then you can log in to the Cloud Pak for Watson AIOps UI as follows.</p>
<p>Log in to the Red Hat OpenShift console, and then click the drop-down menu on the upper right.</p>
<p><img alt="w" src="../images/ocp-hub.png" /></p>
<p>Click the <code>IBM Cloud Pak for Administration</code> link, and select <code>OpenShift authentication</code>.</p>
<p><img alt="w" src="../images/cpk-hub.png" /></p>
<p>Log in to <code>IBM Cloud Pak for Administration</code>, click the drop-down menu on the upper right, and then select <code>IBM Automation (cp4waiops)</code>.</p>
<p><img alt="w" src="../images/cpk-hub-ui.png" /></p>
<p>Log in to the Cloud Pak for Watson AIOps UI and then select <code>OpenShift authentication</code>.</p>
<p><img alt="w" src="../images/cp4waiops.png" /></p>
<p>The Cloud Pak for Watson AIOps user interface is displayed.</p>
<p><img alt="w" src="../images/cp4waiops-ui.png" /></p>
<p>Congratulations! You are ready to play with Cloud Pak for Watson AIOps!</p>
<h2 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link">&para;</a></h2>
<h3 id="storage">Storage<a class="headerlink" href="#storage" title="Permanent link">&para;</a></h3>
<h4 id="problem">Problem<a class="headerlink" href="#problem" title="Permanent link">&para;</a></h4>
<p>Ceph pod reports the following error:</p>
<p><code>cephosd: failed to lookup binary path "/rootfs/usr/sbin/lvm" on the host rootfs</code>.</p>
<h4 id="cause">Cause<a class="headerlink" href="#cause" title="Permanent link">&para;</a></h4>
<p>This problem is caused by missing lvm2 support. For more information, see <a href="https://github.com/rook/rook/issues/6057#issuecomment-681732903">issue 6705</a>.</p>
<h4 id="solution">Solution<a class="headerlink" href="#solution" title="Permanent link">&para;</a></h4>
<p>Install lvm2 on all Red Hat OpenShift nodes.</p>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.sections"], "search": "../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.407015b8.min.js"></script>
      
    
  </body>
</html>